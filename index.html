<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DonTests WellTests</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">

        <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <div class="grid-container">
    <!-- Header -->
        <header class="header">
            <div class="menu-icon" onclick="openSidebar()">
                <span class="material-icons-outlined">
                    menu
                </span>
            </div>

            <div class="header-left"><span class="material-icons-outlined">
                search
            </span>
            </div>
            <div class="header-right">
                <span class="material-icons-outlined">
                    notifications
                </span>
                <span class="material-icons-outlined">
                    email
                </span>
                <span class="material-icons-outlined">
                    account_circle
                </span>
            </div>
        </header>
    <!-- End of Header -->

    <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-title">
                <div class="sidebar-brand">
                    <span class="material-icons-outlined">
                        grass
                    </span> DonTests
                </div>
                <span class="material-icons-outlined" onclick="closeSidebar()">
                    close
                </span>
            </div>

            <ul class="sidebar-list"> <a href="#charts">
                <li class="sidebar-list-item"><span class="material-icons-outlined">
                    insights
                </span> Welltest Chart</li></a>
                <a href="#Calculations">
                <li class="sidebar-list-item"><span class="material-icons-outlined">
                        functions
                    </span> Calculations</li></a>
                <li class="sidebar-list-item"><span class="material-icons-outlined">
                    assignment
                </span> Interpretation</li>
                <a href="#WellTest_Table">
                <li class="sidebar-list-item"><span class="material-icons-outlined">
                    table_chart
                </span> WellTest Table</li></a>
                <a href="#About_WellTest">
                <li class="sidebar-list-item"><span class="material-icons-outlined">
                    lightbulb
                </span> About WellTest</li></a>
                <li class="sidebar-list-item"><span class="material-icons-outlined">
                    info
                </span> Information</li>
            </ul>
        </aside>
    <!-- End Sidebar -->

    <!-- Main -->
        <main class="main-container">
            <div class="main-title">
                <div class="sidebar-brand">
                    <h1></h2><span class="material-icons-outlined">
                        grass
                    </span> DonTests</h1>
                </div>

                <div id="upload-section">
                    <div>
                        <h2>Upload Excel File</h2>
                        <form id="excelForm" enctype="multipart/form-data">
                            <input type="file" id="fileInput" accept=".xlsx,.xls,.csv" />
                        
                        </form>
                    </div>
                    <div id="secondFileInput">
                        <h2>Upload Second Excel File</h2>
                        <form id="excelForm" enctype="multipart/form-data">
                            <input type="file" id="fileInput2" accept=".csv" />
                        
                        </form>
                    </div>

                </div>

                <div id="upload-section">
                    <h2>Select Test Type</h2>
                    <div class="dropdown">
                    <select id="tests" onchange="handleDropdownChange()">
                        <option value="">Select a Test</option>
                        <option value="drawdownPlot">Dropdown Test</option>
                        <option value="Variable_RatePlot">Variable Rate Plot Test</option>
                        <option value="hornerPlot">Build Up Test (Horner)</option>
                    </select>
                    </div>
                </div>
            </div>


            <div class="charts" id="charts">
                <div class="charts-card">
                    <h2 class="chart-title chart-title1">Well Test Analysis</h2>
                    <div id="chart-container"></div> 
                    <div id="selectRegion" id="selectRegion2">Please select the part of the chart above that looks like a straight line<br>
                    <div><label for="start-index">Point 1:</label>
                    <select id="start-index"></select> 
                    <label for="end-index">Point 2:</label>
                    <select id="end-index"></select>
                    </div>
                
                <button id="update-button">Update</button>
                </div>
                </div>
            </div>

            <div class="charts" id="Calculations">
                <div class="charts-card">
                    <h2 class="chart-title">Calculations</h2>
                    <div id="calculations-container">
                    </div> 
                </div>
            </div>

            <div class="charts" id="WellTest_Table">
                <div class="charts-card">
                    <h2 class="chart-title">WellTest Table</h2>
                    <div id="WellTest_Table_container">
                    <table id="dataTable">
                        <thead>
                            <tr id="t_head">
                                <!-- <th>Column 1</th>
                                <th>Column 2</th>
                                <th>Column 3</th> -->
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Rows will be added here dynamically -->
                        </tbody>
                    </table>

                </div>
            </div>
            <div class="charts" id="About_WellTest">
                <div class="charts-card">
                    <h2 class="chart-title">About WellTest</h2>
                    <div id="About_WellTest-container">
                        <p class="centered">
                            Click this <a class="highlight-link" href="https://drive.google.com/drive/folders/1kUhnJ26fk7P51S6sq2XWXOdIBHDKBrES?usp=sharing"
                                target="_blank">Google drive</a> link to access the template for files to be uploaded.
                            
                        </p>
                    </div> 
                </div>
            </div>

        </main>
    <!-- End main -->


    <!-- Scripts -->
    <!-- D3 charts -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- Script that allows excel file to be uploaded and read -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.0/xlsx.full.min.js"></script>
    <!-- Script that allows excel file to be uploaded and read
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script> -->

    <!-- Javascript -->
    <script src="script.js"></script>
</body>
</html>